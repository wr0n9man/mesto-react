{"version":3,"sources":["image/header_logo.svg","components/Header.js","image/avatar-redact.svg","contexts/CurrentUserContext.js","components/Card.js","contexts/CardContext.js","components/Main.js","components/Footer.js","components/PopupWithForm.js","components/ImagePopup.js","utils/api.js","components/EditProfilePopup.js","components/EditAvatarPopup.js","components/AddPlacePopup.js","components/App.js","reportWebVitals.js","index.js"],"names":["Header","className","src","logoPath","alt","currentUserContext","React","createContext","Card","props","currentUser","useContext","isOwn","card","owner","_id","cardDeleteButtonClassName","isLiked","likes","some","i","cardLikeButtonClassName","type","onClick","onCardClick","link","name","onCardDelete","onCardLike","length","cardContext","Main","cards","onEditAvatar","penPath","avatar","about","onEditProfile","onAddPlace","map","Footer","PopupWithForm","isOpen","onClose","title","onSubmit","children","ImagePopup","id","Api","baseUrl","headers","this","_headers","fetch","then","res","ok","json","Promise","reject","status","data","method","body","JSON","stringify","authorization","EditProfilePopup","useState","setName","description","setDescription","useEffect","e","preventDefault","onUpdateUser","required","onChange","target","value","defaultValue","placeholder","EditAvararPopup","imageRef","useRef","onUpdateAvatar","current","ref","AddPlacePopup","place","setPlace","setLink","App","isEditProfilePopupOpen","setIsEditProfilePopupOpen","isEditAvatarPopupOpen","setIsEditAvatarPopupOpen","isAddPlacePopupOpen","setIsAddPlacePopupOpen","isCardPopupOpen","setIsCardPopupOpen","selectedCard","setSelectedCard","setCurrentUser","setCards","closeAllPopups","getInfoUser","values","console","log","catch","err","getInitialCards","Provider","changeLikeCardStatus","newCard","newCards","c","deleteCard","filter","sendUserInfo","sendPlace","EditAvatarPopup","sendAvatar","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.b22002ed.chunk.js","sourcesContent":["export default __webpack_public_path__ + \"static/media/header_logo.a307e1c4.svg\";","import logoPath  from \"../image/header_logo.svg\";\n\nfunction Header() {\n\treturn (\n\t\t\n\t\t<header className=\"header\">\n\t\t<img src={logoPath}  alt=\"Место\" className=\"header__logo\"/>\n\t  </header>\n\t\t\n\t)\n} \nexport default Header;","export default __webpack_public_path__ + \"static/media/avatar-redact.a086f758.svg\";","import React from 'react';\nexport const currentUserContext = React.createContext();\n","import React from 'react';\nimport { currentUserContext } from \"../contexts/CurrentUserContext\";\n\n\nfunction Card(props) {\n\n\tconst currentUser = React.useContext(currentUserContext);\n\n \n\n\tfunction handleClick() {\n\t\tprops.onCardClick(props.card);\n\t } \n\n\tfunction handleCardLike() {\n\t\tprops.onCardLike(props.card);\n\t}\n\n\tfunction handleCardDelete() {\n\t\tprops.onCardDelete(props.card);\n\t}\n\n\t const isOwn = props.card.owner._id === currentUser._id;\n\t const cardDeleteButtonClassName = (`place__delete ${isOwn ? 'place__delete_active' : ''}`\n\t ); \n\t const isLiked = props.card.likes.some(i => i._id === currentUser._id);\n\t const cardLikeButtonClassName = `place__counter_button ${isLiked?'place__counter_button_active':''}`; \n\treturn(\n\t\t<>\n<div >\n  <div className=\"place\">\n\t  <button type=\"button\" className=\"place__open\" onClick={handleClick}><img src={props.card.link} alt={props.card.name} className=\"place__image\"/></button>\n\t  <button type=\"button\" className={cardDeleteButtonClassName} onClick={handleCardDelete}/>\n\t  <div className=\"place__main\">\n\t\t  <h3 className=\"place__name\">{props.card.name}</h3>\n\t\t  <div className=\"place__counter\">\n\t\t\t  <button type=\"button\" className={cardLikeButtonClassName} onClick={handleCardLike}/>\n\t\t\t  <span className=\"place__counter_like\">{props.card.likes.length}</span>\n\t\t  </div>\n\t\t  \n\t  </div>\n  </div>\n</div>\n\t\t</>\n\t)\n}\n\nexport default Card","import React from 'react';\nexport const cardContext = React.createContext();\n","import React from 'react';\nimport penPath from'../image/avatar-redact.svg'\nimport Card from \"./Card.js\";\nimport { currentUserContext } from \"../contexts/CurrentUserContext\";\nimport { cardContext  } from \"../contexts/CardContext\";\n\n\n\nfunction Main(props) {\t\n\n\tconst currentUser = React.useContext(currentUserContext);\n\tconst cards = React.useContext(cardContext);\n\t\n\n\n\treturn(\n\t\t<>\n\t\t<main>\n\t\t<div className=\"spinner\"><i></i></div>\n\t\t<div className=\"content\">\n\t\t<section className=\"profile\">\n\t\t\t<div className=\"profile__info\">\n\t\t\t\t<button type=\"button\"  className=\"profile__avatar-button\" onClick={props.onEditAvatar}>\n\t\t\t\t<img src={penPath} alt=\"аватарка\" className=\"profile__avatar_hover\"/>\n\t\t\t\t<img src={currentUser.avatar?currentUser.avatar:''} alt=\"аватарка\" className=\"profile__avatar\"/>\n\t\t\t   </button>\n\t\t\t\t<div className=\"profile__redact\">\n\t\t\t\t\t<h1 className=\"profile__name\">{currentUser.name}</h1>\n\t\t\t\t\t<p className=\"profile__about\">{currentUser.about}</p>\n\t\t\t\t\t<button type=\"button\" className=\"profile__edit-button\" onClick={props.onEditProfile}></button>\n\t\t\t\t</div>\n\n\t\t\t</div>\n\t\t\t<button type=\"button\" className=\"profile__add-button\" onClick={props.onAddPlace} />\n\t\t</section>\n\t\t\n\t\t<section className=\"places\">\t\t\t\n\t\t{\n\t\tcards.map((card)=>(\n\t\t\t<Card key={card._id} card={card} onCardClick={props.onCardClick} onCardLike={props.onCardLike} onCardDelete={props.onCardDelete}/>\n\t\t\t))}\n \n\t\t</section>\n\t</div>\n\t\t\t\t\n\t</main>\n\t\t</>\n\t)\n}\n\nexport default Main","function Footer() {\n\treturn(\n\t\t\n\t\t\t<footer className=\"footer\">\n\t\t\t\t<p className=\"footer__copyright\">&copy;2020 Mesto Russia</p>\n\t\t\t</footer>\n\t\t\n\t)\n}\n\nexport default Footer","\n\nfunction PopupWithForm(props) {\n\t\n\treturn(\n\t\t<>\n\t\t\n\t\t<section className={`popup popup_type_${props.name} ${props.isOpen?'popup__is-opened':''}`}>\n\t\t\t<input className=\"popup__overlay popup__overlay_active\" onClick={props.onClose} />\n\t\t\t<div className=\"popup__container\" >\n\t\t\t\t<button type=\"button\" className=\"popup__close-image\" onClick={props.onClose}> </button>\t\t\t\t\n\t\t\t\t<h2 className=\"popup__head\">{props.title}</h2>\n\t\t\t\t<form name={`popup-${props.name}`} className=\"popup__content\" onSubmit={props.onSubmit} >\t\n\t\t\t\t{props.children}\t\n\t\t\t\t</form>\n\t\t\t</div>\n\t\t</section>\n\t\t</>\n\t)\n\t\n}\n\nexport default PopupWithForm\t","function  ImagePopup(props) {\t\n\n\treturn(\n\t\t\n\t\t<>{\n\t\t<section className={`popup popup_type_image ${props.isOpen?'popup__is-opened':''}` } id=\"popup-image\" >\n\t\t\t<input className=\"popup__overlay\"/>\n\t\t\t<div className=\"popup__image\" id=\"Image\" >\n\t\t\t\t<button type=\"button\" className=\"popup__close-image\" onClick={props.onClose}> </button>\n\t\t\t\t<img src={props.card.link} alt=\"\" className=\"popup__photo\"/>\n\t\t\t\t<h4 className=\"popup__name\">{props.card.name}</h4>\n\t\t\t</div>\n\t\t</section>}\n\t\t</>\n\t)\n}\n\n\nexport default ImagePopup"," class Api {\n\tconstructor({baseUrl, headers}) {\n\tthis.baseUrl = baseUrl;\n  this._headers = headers;\n\n\t}\n \n\tgetInfoUser(){\n\t\treturn fetch(`${this.baseUrl}/users/me `,{\n\t\t\theaders: this._headers\n\t\t})\n\t\t.then(res => {\n\t\t\tif (res.ok) {\n\t\t\t  return res.json();\n\t\t\t}\t\n\t\t\t// если ошибка, отклоняем промис\n\t\t\treturn Promise.reject(`Ошибка: ${res.status}`);\n\t\t })\n\t\t\t\n\t}\n\n\tgetInitialCards() {\n\t\treturn fetch(`${this.baseUrl}/cards  `,{\n\t\t\theaders: this._headers\n\t\t})\n\t\t.then(res => {\n\t\t\tif (res.ok) {\n\t\t\t  return res.json();\n\t\t\t}\n\t\n\t\t\t// если ошибка, отклоняем промис\n\t\t\treturn Promise.reject(`Ошибка: ${res.status}`);\n\t\t });\n \n      }\n      \n   sendUserInfo(data){\n     return fetch(`${this.baseUrl}/users/me `,{\n         method: 'PATCH',\n         headers: this._headers,\n         body:JSON.stringify({\n            name: data.name,\n            about: data.about\n         })\n      }\n    )\n    .then(res => {\n      if (res.ok) {\n        return res.json();\n      }\n\n      // если ошибка, отклоняем промис\n      return Promise.reject(`Ошибка: ${res.status}`);\n    });\n   }\n\n  sendPlace(data){\n      return fetch(`${this.baseUrl}/cards  `,{\n         method: 'POST',\n         headers: this._headers,\n         body:JSON.stringify({\n            name: data.name,\n            link: data.link\n         })\n      }\n      ).then(res => {\n         if (res.ok) {\n           return res.json();\n         }\n   \n         // если ошибка, отклоняем промис\n         return Promise.reject(`Ошибка: ${res.status}`);\n       });\n   }\n\n\ndeleteCard(id){\n  return fetch(`${this.baseUrl}/cards/${id} `,{\n    method: 'DELETE',\n    headers: this._headers   \n }).then(res => {\n  if (res.ok) {\n    return res.json();\n  }\n\n  // если ошибка, отклоняем промис\n  return Promise.reject(`Ошибка: ${res.status}`);\n});\n}\n\nchangeLikeCardStatus(id, isLiked){\n  if (isLiked){\n    return fetch(`${this.baseUrl}/cards/likes/${id} `,{\n      method: 'DELETE',\n      headers: this._headers   \n   }).then(res => {\n    if (res.ok) {\n      return res.json();\n    }\n  \n    // если ошибка, отклоняем промис\n    return Promise.reject(`Ошибка: ${res.status}`);\n  });\n  }\n  else{\n    return fetch(`${this.baseUrl}/cards/likes/${id} `,{\n      method: 'PUT',\n      headers: this._headers   \n   }).then(res => {\n    if (res.ok) {\n      return res.json();\n    }\n  \n    // если ошибка, отклоняем промис\n    return Promise.reject(`Ошибка: ${res.status}`);\n  });\n  }\n}\n\nputLike(id){\n  return fetch(`${this.baseUrl}/cards/likes/${id} `,{\n    method: 'PUT',\n    headers: this._headers   \n }).then(res => {\n  if (res.ok) {\n    return res.json();\n  }\n\n  // если ошибка, отклоняем промис\n  return Promise.reject(`Ошибка: ${res.status}`);\n});\n}\n\ndeleteLike(id){\n  return fetch(`${this.baseUrl}/cards/likes/${id} `,{\n    method: 'DELETE',\n    headers: this._headers   \n }).then(res => {\n  if (res.ok) {\n    return res.json();\n  }\n\n  // если ошибка, отклоняем промис\n  return Promise.reject(`Ошибка: ${res.status}`);\n});\n}\nsendAvatar(data){\n  return fetch(`${this.baseUrl}/users/me/avatar `,{\n    method: 'PATCH',\n    headers: this._headers,\n    body:JSON.stringify({\n      avatar: data.avatar\n    })\n }\n)\n.then(res => {\n if (res.ok) {\n   return res.json();\n }\n\n // если ошибка, отклоняем промис\n return Promise.reject(`Ошибка: ${res.status}`);\n});\n}\n\n};\n\n\nexport default Api = new Api({\n\tbaseUrl: 'https://mesto.nomoreparties.co/v1/cohort-18',\n\theaders: {\n\t  authorization: 'a636e40b-41e2-4486-9487-73203d96297e',\n\t  'Content-Type': 'application/json'\n\t}\n });","import React from 'react';\nimport { currentUserContext } from \"../contexts/CurrentUserContext\";\nimport PopupWithForm from \"./PopupWithForm.js\";\n\nfunction  EditProfilePopup(props) {\n\tconst currentUser = React.useContext(currentUserContext);\n\tconst [name, setName]=React.useState();\n\tconst [description , setDescription ]= React.useState();\n\n\tfunction handleChangeName(e) {\n\t\tsetName(e.target.value)\n\t}\n\n\tfunction handleChangeDescription(e) {\n\t\tsetDescription(e.target.value)\n\t}\n\n\tReact.useEffect(() => {\n\t\tsetName(currentUser.name);\n\t\tsetDescription(currentUser.about);\n\t }, [currentUser]); \n\n\t function handleSubmit(e) {\n\t\t// Запрещаем браузеру переходить по адресу формы\n\t\te.preventDefault();\n\t \n\t\t// Передаём значения управляемых компонентов во внешний обработчик\n\t\tprops.onUpdateUser({\n\t\t  name,\n\t\t  about: description,\n\t\t});\n\t } \n\nreturn(\n\t<PopupWithForm name=\"edit\" title=\"Редактировать профиль\" isOpen={props.isOpen }  onClose ={props.onClose } onSubmit={handleSubmit}\n\t\tchildren={\n\t\t<>\n\t\t\t<input type=\"text\" name=\"name\" className=\"popup__input\" required   id=\"name-input\" onChange={handleChangeName} defaultValue={name}\n\t\t\tplaceholder=\"Имя\"/>\n\t\t\t<span className=\"popup__input-error\" id='name-input-error'></span>\n\t\t\t<input type=\"text\" name=\"about\" className=\"popup__input\" required   id=\"job-input\" onChange={handleChangeDescription} defaultValue={description}\n\t\t\tplaceholder=\"Вид деятельности\"/>\n\n\t\t\t<span className=\"popup__input-error\" id=\"job-input-error\"></span>\n\t\t\t<button type=\"submit\" className=\"popup__save-button popup__save-button_profile\">Сохранить</button>\n\t\t</>}\n\t/>\t\n\t)\n}\n\nexport default EditProfilePopup;","import React from 'react';\nimport PopupWithForm from \"./PopupWithForm.js\";\n\nfunction EditAvararPopup(props) {\n\tconst imageRef = React.useRef();\n\n\t\n\t\n\n\tfunction handleSubmit(e) {\n\t\t\t\t// Запрещаем браузеру переходить по адресу формы\n\t\te.preventDefault();\n\t \n\t\t// Передаём значения управляемых компонентов во внешний обработчик\n\t\tprops.onUpdateAvatar({\n\t\t avatar : imageRef.current.value\n\t\t});\n\t } \n\n\n\treturn(\t<PopupWithForm name=\"avatar\" title=\"Обновить аватар\" isOpen={props.isOpen}  onClose ={props.onClose} onSubmit={handleSubmit}\n\tchildren={<>\n\t<input type=\"url\" name=\"avatar\" className=\"popup__input\" placeholder=\"Ссылка на картинку\" required ref={imageRef} \n\tid=\"link_avatar-input\"/>\n\t\t<span className=\"popup__input-error\" id=\"link_avatar-input-error\"></span>\n\n\t<button type=\"submit\"\n\tclassName=\"popup__save-button popup__save-button_avatar\">Сохранить</button>\n\t</>}\n\t/>)\n}\n\nexport default EditAvararPopup;","import React from 'react';\n\nimport PopupWithForm from \"./PopupWithForm.js\";\n\nfunction AddPlacePopup(props) {\n\tconst [place, setPlace]=React.useState(\"place\");\n\tconst [link , setLink]= React.useState(\"link\");\n\n\tfunction handleChangePlace(e) {\n\t\tsetPlace(e.target.value)\n\t}\n\n\tfunction handleChangeLink(e) {\n\t\tsetLink(e.target.value)\n\t}\n\n\n\tfunction handleSubmit(e) {\n\t\t\n\t\t// Запрещаем браузеру переходить по адресу формы\n\t\te.preventDefault();\n\t\t\n\t\t// Передаём значения управляемых компонентов во внешний обработчик\n\t\tprops.onAddPlace({\n\t\t name: place,\n\t\t link\n\t\t});\n\t } \n\n\n\n\n\treturn(<PopupWithForm name=\"new-card\" title=\"Новое место\"  isOpen={props.isOpen} onClose ={props.onClose} onSubmit={handleSubmit}\n\tchildren={\n\t<>\n\t\t<input type=\"text\" name=\"name\" className=\"popup__input\" placeholder=\"Название\"  onChange={handleChangePlace}\n\t\t\t\t\t id=\"place-input\"/>\n\n\t\t\t\t<span className=\"popup__input-error\" id=\"place-input-error\"></span>\n\t\t\t\t<input type=\"url\" name=\"link\" className=\"popup__input\" placeholder=\"Ссылка на картинку\" required onChange={handleChangeLink}\n\t\t\t\t\tid=\"link-input\"/>\n\t\t\t\t<span className=\"popup__input-error\" id=\"link-input-error\"></span>\n\n\t\t\t\t<button type=\"submit\"\n\t\t\t\t\tclassName=\"popup__save-button popup__save-button_gallery \">Создать</button>\n\t</>}\n\t/>)\n}\n\nexport default AddPlacePopup;","import React from 'react';\nimport Header from'./Header.js'\nimport Main from './Main.js'\nimport Footer from './Footer.js';\nimport PopupWithForm from \"./PopupWithForm.js\";\nimport ImagePopup from \"./ImagePopup.js\";\nimport Api from \"../utils/api\";\nimport { currentUserContext } from \"../contexts/CurrentUserContext\";\nimport { cardContext } from \"../contexts/CardContext\";\nimport  EditProfilePopup  from \"./EditProfilePopup\";\nimport EditAvatarPopup from \"./EditAvatarPopup\";\nimport AddPlacePopup from \"./AddPlacePopup\";\n\nfunction App() {\nconst [isEditProfilePopupOpen, setIsEditProfilePopupOpen]= React.useState(false);\nconst [isEditAvatarPopupOpen, setIsEditAvatarPopupOpen]= React.useState(false);\nconst [isAddPlacePopupOpen, setIsAddPlacePopupOpen]= React.useState(false);\nconst [isCardPopupOpen, setIsCardPopupOpen]= React.useState(false);\nconst [selectedCard , setSelectedCard ]= React.useState({name: '', link: ''});\nconst [currentUser, setCurrentUser ]= React.useState(\"user\");\nconst [cards , setCards ]= React.useState([]);\n\nReact.useEffect(()=>{\n\tApi.getInfoUser().then((values)=>{\n\t\tconsole.log(values)\n\t\tsetCurrentUser(values);\n\t})\n\t.catch((err)=>{     //попадаем сюда если один из промисов завершаться ошибкой\n\t\tconsole.log(err);\n\t})\n\tApi.getInitialCards().then((values)=>{\n\t\tsetCards(values)\n\t}).catch((err)=>{     //попадаем сюда если один из промисов завершаться ошибкой\n\t\tconsole.log(err);\n\t})\n}, []);\n\nfunction handleEditProfileClick() {\n\tsetIsEditProfilePopupOpen(true)\n\t\n}\n\nfunction handleEditAvatarClick() {\n\tsetIsEditAvatarPopupOpen(true);\n}\n\n\n\nfunction handleAddPlaceClick() {\n\tsetIsAddPlacePopupOpen(true);\n\t\n}\nfunction handleCardClick (values) {\t\n\tsetSelectedCard(values)\n\tsetIsCardPopupOpen(true)\n}\nfunction closeAllPopups() {\n\tsetIsCardPopupOpen(false)\t\n\tsetIsAddPlacePopupOpen(false);\n\tsetIsEditAvatarPopupOpen(false);\n\tsetIsEditProfilePopupOpen(false);\n}\n\nfunction handleUpdateUser (data) {\n\t\n\tApi.sendUserInfo(data).then((values)=>{\n\t\tsetCurrentUser(values)\n\t\tcloseAllPopups();\n\t})\n\t.catch((err)=>{     //попадаем сюда если один из промисов завершаться ошибкой\n\t\tconsole.log(err);\n\t})\n}\n\nfunction  handleUpdateAvatar(data) {\n\tApi.sendAvatar(data).then((values)=>{\n\t\tsetCurrentUser(values)\n\t\tcloseAllPopups();\n\t})\n\t.catch((err)=>{     //попадаем сюда если один из промисов завершаться ошибкой\n\t\tconsole.log(err);\n\t})\n\t\n}\n\nfunction handleAddPlace(data){\n\tApi.sendPlace(data).then((value)=>{\n\t\tsetCards([value,...cards]);\n\t\tcloseAllPopups();\n\t})\n\t.catch((err)=>{     //попадаем сюда если один из промисов завершаться ошибкой\n\t\tconsole.log(err);\n\t})\n}\n\nfunction handleCardLike(card) {\n\t\n\t// Снова проверяем, есть ли уже лайк на этой карточке\n\tconst isLiked = card.likes.some(i => i._id === currentUser._id);\t\n\t// Отправляем запрос в API и получаем обновлённые данные карточки\n\tApi.changeLikeCardStatus(card._id, isLiked).then((newCard) => {\n\t\t\n\t\t // Формируем новый массив на основе имеющегося, подставляя в него новую карточку\n\t  const newCards = cards.map((c) => c._id === card._id ? newCard : c);\n\t  // Обновляем стейт\n\t  setCards(newCards);\n\t})\n\t.catch((err)=>{     //попадаем сюда если один из промисов завершаться ошибкой\n\t\tconsole.log(err);\n\t});\n}\n\nfunction handleDeleteCard(card) {\n\n\t// Снова проверяем, есть ли уже лайк на этой карточке\n\n\t// Отправляем запрос в API и получаем обновлённые данные карточки\n\tApi.deleteCard(card._id).then(() => {\n\t\t\n\t\t // Формируем новый массив на основе имеющегося, подставляя в него новую карточку\n\t  const newCards = cards.filter((c) => c._id !== card._id);\n\t  // Обновляем стейт\n\t  setCards(newCards);\n\t})\n\t.catch((err)=>{     //попадаем сюда если один из промисов завершаться ошибкой\n\t\tconsole.log(err);\n\t});\n}\n\n  return ( \n    <currentUserContext.Provider value={currentUser}> \n\t <cardContext.Provider value={cards}>\n\t<Header />\n\t\n\t<Main onEditProfile={handleEditProfileClick} onAddPlace={handleAddPlaceClick} onEditAvatar={handleEditAvatarClick} onCardClick={handleCardClick} onCardLike={handleCardLike} onCardDelete={handleDeleteCard} />\n\t\n\t<Footer />\t\n\n\t\n\t\t\n\t\t<EditProfilePopup isOpen={isEditProfilePopupOpen} onClose={closeAllPopups} onUpdateUser={handleUpdateUser} />\n\t\t\n\t\t<AddPlacePopup isOpen={isAddPlacePopupOpen} onClose={closeAllPopups} onAddPlace={handleAddPlace}/>\n\n\t\t<EditAvatarPopup isOpen={isEditAvatarPopupOpen} onClose={closeAllPopups} onUpdateAvatar={handleUpdateAvatar}/>\n\t\n\t\t<PopupWithForm name=\"delete\" title=\"Вы уверены\" children={<button type=\"submit\" className=\"popup__delete-button\">Да</button>} onClose ={closeAllPopups}/>\n\n\t\t<ImagePopup card={selectedCard} onClose ={closeAllPopups} isOpen={isCardPopupOpen}/>\n\n\t\n\t\n\n\n\t\t</cardContext.Provider>\n    </currentUserContext.Provider>\n  );\n}\n\nexport default App;\n","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './components/App';\nimport reportWebVitals from './reportWebVitals';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}